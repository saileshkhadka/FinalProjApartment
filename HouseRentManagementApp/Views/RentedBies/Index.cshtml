@model IEnumerable<HouseRentManagementApp.Models.RentedBy>

@{
    ViewBag.Title = "Index";
}
@*<link href="~/Content/themes/base/jquery-ui.css" rel="stylesheet" />
<h2>All Flat List And Representative
</h2>

<table class="table">
    <tr>
        <th>
            @Html.DisplayName("House Name")
        </th>
        <th>
            @Html.DisplayName("Flat No.")
        </th>
        <th>
            @Html.DisplayName("Renter Name")
        </th>
        <th>
            @Html.DisplayNameFor(model => model.EntryDate)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        @if (item.LeavingDate == null)
        {
            <td>
                @Html.DisplayFor(modelItem => item.Flats.Homes.Name)
            </td>


            <td>
                @Html.DisplayFor(modelItem => item.Flats.FlatNo)
            </td>

            <td>
                @Html.DisplayFor(modelItem => item.HouseRepresentatives.Name)
            </td>

            <td>
                @Html.DisplayFor(modelItem => item.EntryDate)
            </td>
            <td>
                @Html.ActionLink("Delete", "Delete", new { id = item.Id })
            </td>
        }
        
    </tr>
}

</table>
*@
<section class="content container-fluid">

    <div class="box">
        <div class="box-header with-border">
            <h3 class="box-title">All Flat List And Representative</h3>
        </div>
        <table class="table table-bordered table-hover dataTable table-responsive" role="grid">
            <tr>
                <th>
                    @Html.DisplayName("House Name")
                </th>
                <th>
                    Flat No.
                </th>
                <th>
                    @Html.DisplayName("Renter Name")
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.EntryDate)
                </th>
                <th style="width:100px">Actions</th>
            </tr>

            @foreach (var item in Model)
            {
                <tr>
                    @if (item.LeavingDate == null)
                    {
                        <td>
                            @Html.DisplayFor(modelItem => item.Flats.Homes.Name)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Flats.FlatNo)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.HouseRepresentatives.Name)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.EntryDate)
                        </td>
                        <td>
                            <button type="button" class="btn btn-sm btn-block btn-danger" onclick="location.href='@Url.Action("Delete", "RentedBies", new { id = item.Id })'">Delete</button>
                        </td>
                    }
                </tr>
            }
        </table>
    </div>
</section>